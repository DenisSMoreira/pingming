<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN"
          "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">

<struts-config>

	<form-beans>
		<form-bean name="autenticacaoForm" type="cbss.login.apresentacao.autenticacao.AutenticacaoForm"/>
	</form-beans>

	<global-exceptions>
	</global-exceptions>

    <global-forwards>
    	<forward name="erro" path="tilesErroAutenticacao"/>
    </global-forwards>

    <action-mappings>

		<action path="/login" name="autenticacaoForm" type="org.springframework.web.struts.DelegatingActionProxy" scope="request">
			<forward name="sucesso" path="tilesAutenticacaoLogin"/>
			<forward name="erro" path="tilesErroAutenticacaoLogin"/>
		</action>

		<action path="/senha" name="autenticacaoForm" type="org.springframework.web.struts.DelegatingActionProxy" scope="request">
			<forward name="sucesso" path="tilesAutenticacaoSenha"/>
			<forward name="erro" path="tilesErroAutenticacaoSenha"/>
			<forward name="autenticacaoInvalida" path="/login.do"/>
			<forward name="autenticacaoSenhaInvalida" path="tilesAutenticacaoSenha"/>
			<forward name="cadastrarSenha" path="/mensagem.do"/>
			<forward name="senhaBloqueada" path="/mensagem.do"/>
			<forward name="senhaDesativada" path="/mensagem.do"/>
		</action>
		
		<action path="/mensagem" name="autenticacaoForm" type="org.springframework.web.struts.DelegatingActionProxy" scope="request">
			<forward name="sucesso" path="tilesAutenticacaoMensagem"/>
			<forward name="erro" path="tilesErroAutenticacaoMensagem"/>
			<forward name="autenticacaoInvalida" path="/login.do"/>
		</action>
		
		<action path="/home" name="autenticacaoForm" type="org.springframework.web.struts.DelegatingActionProxy" scope="request">			
			<forward name="erro" path="tilesErroAutenticacaoHome"/>
			<forward name="autenticacaoSenhaInvalida" path="tilesAutenticacaoSenha"/>
			<forward name="senhaBloqueada" path="/mensagem.do"/>
		</action>

    </action-mappings>
    
	 <controller
	        processorClass="org.apache.struts.tiles.TilesRequestProcessor"
	        debug="0"/>

	<message-resources key="bundle" parameter="cbss.resource.AutenticacaoResources" null="true"/>

    <plug-in className="cbss.apresentacao.CBSSTilesPlugin" >
        <set-property property="definitions-parser-validate" value="true"/>
        <set-property property="moduleAware" value="true"/>
    </plug-in>

</struts-config>
